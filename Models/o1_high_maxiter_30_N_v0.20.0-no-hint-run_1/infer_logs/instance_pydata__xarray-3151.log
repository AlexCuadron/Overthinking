2024-12-22 12:38:09,005 - INFO - Building image: ghcr.io/all-hands-ai/runtime:oh_v0.16.0_4e7bibzh673x0ilk_yajo72un47o9ydtm
2024-12-22 12:39:44,415 - INFO - Image [ghcr.io/all-hands-ai/runtime:oh_v0.16.0_4e7bibzh673x0ilk_yajo72un47o9ydtm] build finished.
2024-12-22 12:39:44,422 - INFO - Re-tagged image [ghcr.io/all-hands-ai/runtime:oh_v0.16.0_4e7bibzh673x0ilk_yajo72un47o9ydtm] with more generic tag [oh_v0.16.0_4e7bibzh673x0ilk]
2024-12-22 12:39:44,425 - INFO - Image ghcr.io/all-hands-ai/runtime with tags [oh_v0.16.0_4e7bibzh673x0ilk_yajo72un47o9ydtm, oh_v0.16.0_4e7bibzh673x0ilk] built successfully
2024-12-22 12:39:44,430 - INFO - [runtime 9d57e482-7f0d-495c-8a60-5e5e9fe7714e-1430a95a824f2c16] Starting runtime with image: ghcr.io/all-hands-ai/runtime:oh_v0.16.0_4e7bibzh673x0ilk_yajo72un47o9ydtm
2024-12-22 12:39:44,676 - INFO - [runtime 9d57e482-7f0d-495c-8a60-5e5e9fe7714e-1430a95a824f2c16] Container started: openhands-runtime-9d57e482-7f0d-495c-8a60-5e5e9fe7714e-1430a95a824f2c16. VSCode URL: None
2024-12-22 12:39:44,678 - INFO - [runtime 9d57e482-7f0d-495c-8a60-5e5e9fe7714e-1430a95a824f2c16] Waiting for client to become ready at http://localhost:38980...
2024-12-22 12:40:04,735 - INFO - [runtime 9d57e482-7f0d-495c-8a60-5e5e9fe7714e-1430a95a824f2c16] Runtime is ready.
2024-12-22 12:40:04,850 - INFO - ------------------------------
2024-12-22 12:40:04,850 - INFO - BEGIN Runtime Initialization Fn
2024-12-22 12:40:04,850 - INFO - ------------------------------
2024-12-22 12:40:04,851 - INFO - **CmdRunAction (source=None)**
COMMAND:
echo 'export SWE_INSTANCE_ID=pydata__xarray-3151' >> ~/.bashrc && echo 'export PIP_CACHE_DIR=~/.cache/pip' >> ~/.bashrc && echo "alias git='git --no-pager'" >> ~/.bashrc
2024-12-22 12:40:04,959 - INFO - **CmdOutputObservation (source=None, exit code=0)**

2024-12-22 12:40:04,959 - INFO - **CmdRunAction (source=None)**
COMMAND:
export USER=$(whoami); echo USER=${USER} 
2024-12-22 12:40:05,066 - INFO - **CmdOutputObservation (source=None, exit code=0)**
USER=root
2024-12-22 12:40:05,066 - INFO - **CmdRunAction (source=None)**
COMMAND:
mkdir -p /swe_util/eval_data/instances
2024-12-22 12:40:05,173 - INFO - **CmdOutputObservation (source=None, exit code=0)**

2024-12-22 12:40:05,180 - INFO - **CmdRunAction (source=None)**
COMMAND:
cat ~/.bashrc
2024-12-22 12:40:05,285 - INFO - **CmdOutputObservation (source=None, exit code=0)**
source /opt/miniconda3/etc/profile.d/conda.sh && conda activate testbed
export SWE_INSTANCE_ID=pydata__xarray-3151
export PIP_CACHE_DIR=~/.cache/pip
alias git='git --no-pager'
2024-12-22 12:40:05,286 - INFO - **CmdRunAction (source=None)**
COMMAND:
source ~/.bashrc
2024-12-22 12:40:05,493 - INFO - **CmdOutputObservation (source=None, exit code=0)**

2024-12-22 12:40:05,493 - INFO - **CmdRunAction (source=None)**
COMMAND:
source /swe_util/instance_swe_entry.sh
2024-12-22 12:40:05,887 - INFO - **CmdOutputObservation (source=None, exit code=0)**
WORKSPACE_NAME: pydata__xarray__0.12
2024-12-22 12:40:05,887 - INFO - **CmdRunAction (source=None)**
COMMAND:
cd /workspace/pydata__xarray__0.12
2024-12-22 12:40:05,992 - INFO - **CmdOutputObservation (source=None, exit code=0)**

2024-12-22 12:40:05,992 - INFO - **CmdRunAction (source=None)**
COMMAND:
git reset --hard
2024-12-22 12:40:06,142 - INFO - **CmdOutputObservation (source=None, exit code=0)**
HEAD is now at 118f4d99 missing 'about' field (#3146)
2024-12-22 12:40:06,142 - INFO - **CmdRunAction (source=None)**
COMMAND:
for remote_name in $(git remote); do git remote remove "${remote_name}"; done
2024-12-22 12:40:06,251 - INFO - **CmdOutputObservation (source=None, exit code=0)**

2024-12-22 12:40:06,251 - INFO - ------------------------------
2024-12-22 12:40:06,251 - INFO - END Runtime Initialization Fn
2024-12-22 12:40:06,251 - INFO - ------------------------------
2024-12-22 12:40:06,252 - INFO - Function calling not enabled for model openai/neulab/o1. Mocking function calling via prompting.
2024-12-22 12:40:06,254 - INFO - [Agent Controller default] Starting step loop...
2024-12-22 12:40:06,254 - INFO - [Agent Controller default] Setting agent(CodeActAgent) state from AgentState.LOADING to AgentState.RUNNING
2024-12-22 12:40:07,355 - INFO - [Agent Controller default] LEVEL 0 LOCAL STEP 0 GLOBAL STEP 0
2024-12-22 12:40:12,076 - INFO - [Agent Controller default] LEVEL 0 LOCAL STEP 1 GLOBAL STEP 1
2024-12-22 12:40:25,685 - INFO - [Agent Controller default] LEVEL 0 LOCAL STEP 2 GLOBAL STEP 2
2024-12-22 12:40:30,916 - INFO - [Agent Controller default] LEVEL 0 LOCAL STEP 3 GLOBAL STEP 3
2024-12-22 12:40:45,698 - INFO - [Agent Controller default] LEVEL 0 LOCAL STEP 4 GLOBAL STEP 4
2024-12-22 12:40:52,499 - INFO - [Agent Controller default] LEVEL 0 LOCAL STEP 5 GLOBAL STEP 5
2024-12-22 12:41:00,240 - INFO - [Agent Controller default] LEVEL 0 LOCAL STEP 6 GLOBAL STEP 6
2024-12-22 12:41:08,576 - INFO - [Agent Controller default] LEVEL 0 LOCAL STEP 7 GLOBAL STEP 7
2024-12-22 12:41:37,535 - INFO - [Agent Controller default] LEVEL 0 LOCAL STEP 8 GLOBAL STEP 8
2024-12-22 12:42:26,950 - INFO - [Agent Controller default] LEVEL 0 LOCAL STEP 9 GLOBAL STEP 9
2024-12-22 12:42:36,670 - INFO - [Agent Controller default] LEVEL 0 LOCAL STEP 10 GLOBAL STEP 10
2024-12-22 12:42:40,099 - INFO - [Agent Controller default] Setting agent(CodeActAgent) state from AgentState.RUNNING to AgentState.FINISHED
2024-12-22 12:42:40,100 - INFO - ------------------------------
2024-12-22 12:42:40,100 - INFO - BEGIN Runtime Completion Fn
2024-12-22 12:42:40,100 - INFO - ------------------------------
2024-12-22 12:42:40,100 - INFO - **CmdRunAction (source=None)**
COMMAND:
cd /workspace/pydata__xarray__0.12
2024-12-22 12:42:40,206 - INFO - **CmdOutputObservation (source=None, exit code=0)**

2024-12-22 12:42:40,206 - INFO - **CmdRunAction (source=None)**
COMMAND:
git config --global core.pager ""
2024-12-22 12:42:40,313 - INFO - **CmdOutputObservation (source=None, exit code=0)**

2024-12-22 12:42:40,314 - INFO - **CmdRunAction (source=None)**
COMMAND:
git add -A
2024-12-22 12:42:40,423 - INFO - **CmdOutputObservation (source=None, exit code=0)**

2024-12-22 12:42:40,423 - INFO - **CmdRunAction (source=None)**
COMMAND:
git diff --no-color --cached 118f4d996e7711c9aced916e6049af9f28d5ec66
2024-12-22 12:42:40,531 - INFO - **CmdOutputObservation (source=None, exit code=0)**
diff --git a/reproduce_error.py b/reproduce_error.py
new file mode 100644
index 00000000..9fab643d
--- /dev/null
+++ b/reproduce_error.py
@@ -0,0 +1,27 @@
+import xarray as xr
+import numpy as np
+
+#yCoord = ['a', 'b', 'c']  # works without error
+yCoord = ['a', 'c', 'b']  # raises ValueError on combine
+
+ds1 = xr.Dataset(
+    data_vars=dict(
+        data=(['x', 'y'], np.random.rand(3, 3))
+    ),
+    coords=dict(
+        x=[1, 2, 3],
+        y=yCoord
+    )
+)
+
+ds2 = xr.Dataset(
+    data_vars=dict(
+        data=(['x', 'y'], np.random.rand(4, 3))
+    ),
+    coords=dict(
+        x=[4, 5, 6, 7],
+        y=yCoord
+    )
+)
+
+ds3 = xr.combine_by_coords((ds1, ds2))
\ No newline at end of file
diff --git a/xarray/core/combine.py b/xarray/core/combine.py
index 37ae903b..9ebc4254 100644
--- a/xarray/core/combine.py
+++ b/xarray/core/combine.py
@@ -502,6 +502,8 @@ def combine_by_coords(datasets, compat='no_conflicts', data_vars='all',
 
         # Check the overall coordinates are monotonically increasing
         for dim in concatenated.dims:
+            if dim not in concat_dims:
+                continue
             if dim in concatenated:
                 indexes = concatenated.indexes.get(dim)
                 if not (indexes.is_monotonic_increasing
2024-12-22 12:42:40,531 - INFO - ------------------------------
2024-12-22 12:42:40,531 - INFO - END Runtime Completion Fn
2024-12-22 12:42:40,532 - INFO - ------------------------------
2024-12-22 12:42:40,532 - INFO - Got git diff for instance pydata__xarray-3151:
--------
diff --git a/reproduce_error.py b/reproduce_error.py
new file mode 100644
index 00000000..9fab643d
--- /dev/null
+++ b/reproduce_error.py
@@ -0,0 +1,27 @@
+import xarray as xr
+import numpy as np
+
+#yCoord = ['a', 'b', 'c']  # works without error
+yCoord = ['a', 'c', 'b']  # raises ValueError on combine
+
+ds1 = xr.Dataset(
+    data_vars=dict(
+        data=(['x', 'y'], np.random.rand(3, 3))
+    ),
+    coords=dict(
+        x=[1, 2, 3],
+        y=yCoord
+    )
+)
+
+ds2 = xr.Dataset(
+    data_vars=dict(
+        data=(['x', 'y'], np.random.rand(4, 3))
+    ),
+    coords=dict(
+        x=[4, 5, 6, 7],
+        y=yCoord
+    )
+)
+
+ds3 = xr.combine_by_coords((ds1, ds2))
\ No newline at end of file
diff --git a/xarray/core/combine.py b/xarray/core/combine.py
index 37ae903b..9ebc4254 100644
--- a/xarray/core/combine.py
+++ b/xarray/core/combine.py
@@ -502,6 +502,8 @@ def combine_by_coords(datasets, compat='no_conflicts', data_vars='all',
 
         # Check the overall coordinates are monotonically increasing
         for dim in concatenated.dims:
+            if dim not in concat_dims:
+                continue
             if dim in concatenated:
                 indexes = concatenated.indexes.get(dim)
                 if not (indexes.is_monotonic_increasing
--------
2024-12-22 12:42:45,851 - INFO - Using instance container image: docker.io/xingyaoww/sweb.eval.x86_64.pydata_s_xarray-3305. Please make sure this image exists. Submit an issue on https://github.com/All-Hands-AI/OpenHands if you run into any issues.
2024-12-22 12:42:45,852 - INFO - Logging LLM completions for instance pydata__xarray-3305 to evaluation/evaluation_outputs/outputs/princeton-nlp__SWE-bench_Verified-test/CodeActAgent/o1_maxiter_30_N_v0.16.0-no-hint-run_1/llm_completions/pydata__xarray-3305
